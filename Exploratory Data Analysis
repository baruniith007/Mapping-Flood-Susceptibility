import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import numpy as np
import math

# Load dataset
data = pd.read_csv("/path/data.csv")  # Update the path to your actual data file

# Descriptive Statistics and Null Values Check
print("Descriptive Statistics:")
print(data.describe())
print("\nNull Values Check:")
print(data.isnull().sum())

# Histograms for All Variables in a Single Image
num_variables = data.select_dtypes(include=[np.number]).columns.tolist()
num_plots = len(num_variables)
cols = 4  # Adjust the number of columns
rows = math.ceil(num_plots / cols)

plt.figure(figsize=(cols * 4, rows * 3))  # Adjust figure size based on number of subplots
colors = plt.cm.viridis(np.linspace(0,1, num_plots))  # Generates a color map
for i, var in enumerate(num_variables):
    plt.subplot(rows, cols, i + 1)
    data[var].hist(color=colors[i], bins=15)
    plt.title(var)
plt.tight_layout()
plt.show()

# Correlation Analysis Plot (Heatmap)
corr_matrix = data.corr()
plt.figure(figsize=(10, 8))
sns.heatmap(corr_matrix, annot=True, fmt=".2f", cmap='coolwarm', cbar=True)
plt.title('Correlation Matrix Heatmap')
plt.show()

descriptive_stats = data.describe()
descriptive_stats.to_csv("/path/descriptive_statistics.csv")
print("Descriptive Statistics saved to 'descriptive_statistics.csv'")
print(descriptive_stats)
